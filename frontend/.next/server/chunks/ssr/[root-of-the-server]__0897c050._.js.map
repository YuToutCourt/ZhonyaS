{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/wapzi/Desktop/Programmation/Python/ZhonyaS/frontend/src/contexts/ThemeContext.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from 'react'\r\n\r\ntype Theme = 'light' | 'dark'\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme\r\n  toggleTheme: () => void\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined)\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const [theme, setTheme] = useState<Theme>('light')\r\n\r\n  useEffect(() => {\r\n    // Vérifier le thème sauvegardé ou la préférence système\r\n    const savedTheme = localStorage.getItem('theme') as Theme\r\n    const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\r\n    setTheme(savedTheme || systemTheme)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // Sauvegarder le thème et appliquer les classes\r\n    localStorage.setItem('theme', theme)\r\n    document.documentElement.classList.remove('light', 'dark')\r\n    document.documentElement.classList.add(theme)\r\n  }, [theme])\r\n\r\n  const toggleTheme = () => {\r\n    setTheme(prev => prev === 'light' ? 'dark' : 'light')\r\n  }\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext)\r\n  if (context === undefined) {\r\n    throw new Error('useTheme must be used within a ThemeProvider')\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ;IAE1C,IAAA,kNAAS,EAAC;QACR,wDAAwD;QACxD,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;QACzF,SAAS,cAAc;IACzB,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,gDAAgD;QAChD,aAAa,OAAO,CAAC,SAAS;QAC9B,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS;QACnD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;IACzC,GAAG;QAAC;KAAM;IAEV,MAAM,cAAc;QAClB,SAAS,CAAA,OAAQ,SAAS,UAAU,SAAS;IAC/C;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/wapzi/Desktop/Programmation/Python/ZhonyaS/frontend/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react'\r\n\r\nexport interface User {\r\n  id: number\r\n  username: string\r\n  email?: string\r\n  created_at?: string\r\n  last_login?: string\r\n}\r\n\r\nexport interface AuthContextType {\r\n  user: User | null\r\n  token: string | null\r\n  isLoading: boolean\r\n  login: (username: string, password: string) => Promise<{ success: boolean; error?: string }>\r\n  register: (username: string, password: string, email?: string) => Promise<{ success: boolean; error?: string }>\r\n  logout: () => void\r\n  forgotPassword: (email: string) => Promise<{ success: boolean; error?: string }>\r\n  resetPassword: (token: string, newPassword: string) => Promise<{ success: boolean; error?: string }>\r\n  syncAuth: () => Promise<void>\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext)\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode\r\n}\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001'\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [token, setToken] = useState<string | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  // Vérifier si l'utilisateur est connecté au chargement\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      // Attendre un peu pour s'assurer que le localStorage est disponible\r\n      await new Promise(resolve => setTimeout(resolve, 100))\r\n      \r\n      const storedToken = localStorage.getItem('access_token')\r\n      \r\n      if (storedToken) {\r\n        setToken(storedToken)\r\n        await fetchCurrentUser(storedToken)\r\n      } else {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n    \r\n    checkAuth()\r\n  }, [])\r\n\r\n  const fetchCurrentUser = async (authToken: string) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/auth/me`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${authToken}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setUser(data.user)\r\n      } else {\r\n        // Token invalide, le supprimer\r\n        localStorage.removeItem('access_token')\r\n        setToken(null)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching current user:', error)\r\n      localStorage.removeItem('access_token')\r\n      setToken(null)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const login = async (username: string, password: string): Promise<{ success: boolean; error?: string }> => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/auth/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (response.ok) {\r\n        setToken(data.access_token)\r\n        setUser(data.user)\r\n        localStorage.setItem('access_token', data.access_token)\r\n        \r\n        return { success: true }\r\n      } else {\r\n        return { success: false, error: data.error || 'Erreur de connexion' }\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error)\r\n      return { success: false, error: 'Erreur de connexion au serveur' }\r\n    }\r\n  }\r\n\r\n  const register = async (username: string, password: string, email?: string): Promise<{ success: boolean; error?: string }> => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/auth/register`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password, email }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (response.ok) {\r\n        return { success: true }\r\n      } else {\r\n        return { success: false, error: data.error || 'Erreur lors de l\\'inscription' }\r\n      }\r\n    } catch (error) {\r\n      return { success: false, error: 'Erreur de connexion au serveur' }\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    setUser(null)\r\n    setToken(null)\r\n    localStorage.removeItem('access_token')\r\n  }\r\n\r\n  const forgotPassword = async (email: string): Promise<{ success: boolean; error?: string }> => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (response.ok) {\r\n        return { success: true }\r\n      } else {\r\n        return { success: false, error: data.error || 'Erreur lors de l\\'envoi de l\\'email' }\r\n      }\r\n    } catch (error) {\r\n      return { success: false, error: 'Erreur de connexion au serveur' }\r\n    }\r\n  }\r\n\r\n  const resetPassword = async (token: string, newPassword: string): Promise<{ success: boolean; error?: string }> => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/auth/reset-password`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ token, new_password: newPassword }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (response.ok) {\r\n        return { success: true }\r\n      } else {\r\n        return { success: false, error: data.error || 'Erreur lors de la réinitialisation' }\r\n      }\r\n    } catch (error) {\r\n      return { success: false, error: 'Erreur de connexion au serveur' }\r\n    }\r\n  }\r\n\r\n  const syncAuth = async (): Promise<void> => {\r\n    const storedToken = localStorage.getItem('access_token')\r\n    \r\n    if (storedToken) {\r\n      setToken(storedToken)\r\n      await fetchCurrentUser(storedToken)\r\n    } else {\r\n      setToken(null)\r\n      setUser(null)\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    token,\r\n    isLoading,\r\n    login,\r\n    register,\r\n    logout,\r\n    forgotPassword,\r\n    resetPassword,\r\n    syncAuth,\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/wapzi/Desktop/Programmation/Python/ZhonyaS/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/wapzi/Desktop/Programmation/Python/ZhonyaS/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/wapzi/Desktop/Programmation/Python/ZhonyaS/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}